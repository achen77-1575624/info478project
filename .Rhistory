stringsAsFactors = FALSE) %>%
select(Year, Month, All.Cause, Intentional.Self.Harm..Suicide.) %>%
mutate(suicide_percent_total_deaths = (Intentional.Self.Harm..Suicide. / All.Cause) * 100)
deaths_covid <- read.csv("../data/deaths_covid.csv",
stringsAsFactors = FALSE) %>%
select(Year, Month, All.Cause, Intentional.Self.Harm..Suicide.) %>%
mutate(suicide_percent_total_deaths = (Intentional.Self.Harm..Suicide. / All.Cause) * 100)
deaths_pre_covid <- read.csv("../data/deaths_pre_covid.csv",
stringsAsFactors = FALSE) %>%
select(Year, Month, All.Cause, Intentional.Self.Harm..Suicide.) %>%
mutate(suicide_percent_total_deaths = (Intentional.Self.Harm..Suicide. / All.Cause) * 100)
deaths_covid <- read.csv("../data/deaths_covid.csv",
stringsAsFactors = FALSE) %>%
select(Year, Month, All.Cause, Intentional.Self.Harm..Suicide.) %>%
mutate(suicide_percent_total_deaths = (Intentional.Self.Harm..Suicide. / All.Cause) * 100)
mental_care <- read.csv("./data/mental_care.csv",
stringsAsFactors = FALSE)
setwd("C:/Users/stlp/Downloads/R Assignments/info478project")
mental_care <- read.csv("./data/mental_care.csv",
stringsAsFactors = FALSE)
deaths_pre_covid <- read.csv("../data/deaths_pre_covid.csv",
stringsAsFactors = FALSE) %>%
select(Year, Month, All.Cause, Intentional.Self.Harm..Suicide.) %>%
mutate(suicide_percent_total_deaths = (Intentional.Self.Harm..Suicide. / All.Cause) * 100)
deaths_pre_covid <- read.csv("./data/deaths_pre_covid.csv",
stringsAsFactors = FALSE) %>%
select(Year, Month, All.Cause, Intentional.Self.Harm..Suicide.) %>%
mutate(suicide_percent_total_deaths = (Intentional.Self.Harm..Suicide. / All.Cause) * 100)
deaths_covid <- read.csv("./data/deaths_covid.csv",
stringsAsFactors = FALSE) %>%
select(Year, Month, All.Cause, Intentional.Self.Harm..Suicide.) %>%
mutate(suicide_percent_total_deaths = (Intentional.Self.Harm..Suicide. / All.Cause) * 100)
mental_care <- read.csv("./data/mental_care.csv",
stringsAsFactors = FALSE)
View(mental_care)
## Combines both Deaths dataframes into one.
deaths_pre_post_covid <- rbind(deaths_pre_covid, deaths_covid)
deaths_pre_post_covid$Date <- as.yearmon(paste(deaths_pre_post_covid$Year, deaths_pre_post_covid$Month), "%Y %m")
therapy_rate <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Subgroup == "United States")
View(therapy_rate)
## These averages show an increase in suicides until 2020, when it drops.
average_suicides_2014 <- deaths_pre_covid %>%
filter(Year == "2014")
average_suicides_2014 <- mean(average_suicides_2014$Intentional.Self.Harm..Suicide.)
average_suicides_2017 <- deaths_pre_covid %>%
filter(Year == "2017")
average_suicides_2017 <- mean(average_suicides_2017$Intentional.Self.Harm..Suicide.)
average_suicides_2020 <- deaths_covid %>%
filter(Year == "2020")
average_suicides_2020 <- mean(average_suicides_2020$Intentional.Self.Harm..Suicide.)
## These averages show an increase in suicides until 2020, when it drops.
average_suicides_2014 <- deaths_pre_covid %>%
filter(Year == "2014")
average_suicides_2014 <- round(mean(average_suicides_2014$Intentional.Self.Harm..Suicide.))
average_suicides_2020 <- round(mean(average_suicides_2020$Intentional.Self.Harm..Suicide.))
average_suicides_2017 <- deaths_pre_covid %>%
filter(Year == "2017")
average_suicides_2017 <- round(mean(average_suicides_2017$Intentional.Self.Harm..Suicide.))
average_suicides_2020 <- deaths_covid %>%
filter(Year == "2020")
average_suicides_2020 <- round(mean(average_suicides_2020$Intentional.Self.Harm..Suicide.))
## Rates of suicide seem to be going up due to higher numbers
suicide_death_plot <- ggplot(deaths_pre_post_covid, aes(x = Date, y = Intentional.Self.Harm..Suicide., group = 1)) +
geom_line() +
geom_point()
## But if you plot the percent of total deaths from suicide, you can see a large drop in suicide rates! Could this be from higher telehealth usage?
suicide_percent_plot <- ggplot(deaths_pre_post_covid, aes(x = Date, y = suicide_percent_total_deaths, group = 1)) +
geom_line() +
geom_point()
suicide_death_plot
## Calculating and graphing the mean suicide rates precovid and 2020
pre_mean <- mean(deaths_pre_covid$Intentional.Self.Harm..Suicide.)
covid_mean <- mean(deaths_covid$Intentional.Self.Harm..Suicide., na.rm = TRUE)
pre_mean_percent <- mean(deaths_pre_covid$suicide_percent_total_deaths)
covid_mean_percent <- mean(deaths_covid$suicide_percent_total_deaths, na.rm = TRUE)
#Making dataframe from values to graph
covid <- c("Pre-Covid", "Covid")
mean_deaths <- c(pre_mean, covid_mean)
mean_deaths_df <- data.frame(covid, mean_deaths)
View(mean_deaths_df)
#percent dataframe
perc_deaths <- c(pre_mean_percent, covid_mean_percent)
perc_deaths_df <- data.frame(covid, perc_deaths)
View(perc_deaths_df)
#Graphs
mean_plot <- ggplot(mean_deaths_df, aes(x = covid, y = mean_deaths)) +
geom_bar(stat="identity",position="dodge") +
scale_fill_discrete(name="Year",
breaks=c(1, 2),
labels=c("Pre-Covid", "Covid"))+
xlab("Years")+ylab("Death Means")
mean_plot
View(mean_deaths_df)
perc_plot <- ggplot(perc_deaths_df, aes(x = covid, y = perc_deaths)) +
geom_bar(stat="identity",position="dodge") +
scale_fill_discrete(name="Year",
breaks=c(1, 2),
labels=c("Pre-Covid", "Covid"))+
xlab("Years")+ylab("Percent Death Means")
perc_plot
therapy_rate <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Subgroup == "United States")
View(therapy_rate)
therapy_over_covid <- ggplot(therapy_rate, mapping = aes(x = Time.Period.Label, y = Value, group = 1)) +
geom_line() +
geom_point()
therapy_over_covid
therapy_over_covid <- ggplot(therapy_rate, mapping = aes(x = Time.Period.Start.Date, y = Value, group = 1)) +
geom_line() +
geom_point()
therapy_over_covid
therapy_rate$Time.Period.Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, format = "%m/%d%/Y")
View(therapy_rate)
?as.Date
therapy_rate$Time.Period.Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, format = "%m/%d%/Y")
View(therapy_rate)
therapy_rate$Time.Period.Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, format = "%m/%d%/y")
View(therapy_rate)
therapy_rate$Time.Period.Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, format = "%m-%d%-%Y")
View(therapy_rate)
therapy_rate <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Subgroup == "United States")
View(therapy_rate)
therapy_rate$Time.Period.Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, format = "%m/%d%/%Y")
View(therapy_rate)
therapy_rate <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Subgroup == "United States")
therapy_rate$Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, format = "%m/%d%/%Y")
View(therapy_rate)
therapy_rate$Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, "%m/%d%/%Y")
View(therapy_rate)
therapy_rate$Start.Date = strptime(therapy_rate, format = "%m/%d/%Y")
test = strptime(therapy_rate, format = "%m/%d/%Y")
View(test)
therapy_rate <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Subgroup == "United States")
therapy_rate$Start.Date = strptime(therapy_rate$Time.Period.Start.Date, format = "%m/%d/%Y")
View(therapy_rate)
therapy_rate$Start.Date = as.Date(therapy_rate$Time.Period.Start.Date, format = "%m/%d%/%Y")
View(therapy_rate)
therapy_rate$Start.Date = strptime(therapy_rate$Time.Period.Start.Date, format = "%m/%d/%Y")
therapy_over_covid <- ggplot(therapy_rate, mapping = aes(x = Time.Period.Start.Date, y = Value, group = 1)) +
geom_line() +
geom_point()
therapy_over_covid <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 1)) +
geom_line() +
geom_point()
therapy_over_covid
therapy_rate$Start.Date = strptime(therapy_rate$Time.Period.Start.Date, format = "%m/%d/%Y")
therapy_rate$Start.Date = as.Date(therapy_rate$Start.Date, format = "%m/%d%/%Y")
View(therapy_rate)
therapy_over_covid <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 1)) +
geom_line() +
geom_point()
therapy_over_covid
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 1)) +
geom_line() +
geom_point() +
scale_color_manual(values="#CC6666")
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 1)) +
geom_line(aes(color=winner)) +
geom_point()
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 1)) +
geom_line(aes(color=Start.Date)) +
geom_point()
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 1)) +
geom_line(aes(color=Value)) +
geom_point()
therapy_over_covid_plot
#Graphs
mean_plot <- ggplot(mean_deaths_df, aes(x = covid, y = mean_deaths, fill = covid)) +
geom_bar(stat="identity",position="dodge") +
scale_fill_discrete(name="Year",
breaks=c(1, 2),
labels=c("Pre-Covid", "Covid"))+
xlab("Years")+ylab("Death Means")
mean_plot
perc_plot <- ggplot(perc_deaths_df, aes(x = covid, y = perc_deaths, fill = covid)) +
geom_bar(stat="identity",position="dodge") +
scale_fill_discrete(name="Year",
breaks=c(1, 2),
labels=c("Pre-Covid", "Covid"))+
xlab("Years")+ylab("Percent Death Means")
perc_plot
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(aes(color=Value)) +
geom_point()
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 2) +
geom_point()
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.2) +
geom_point()
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1) +
geom_point()
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1) +
geom_point(size = 1.2)
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1) +
geom_point(size = 2)
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, color = Value) +
geom_point(size = 2) +
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2) +
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2) +
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2)
therapy_over_covid_plot
therapy_rate$Start.Date = strptime(therapy_rate$Time.Period.Start.Date, format = "%m/%d/%Y")
therapy_rate$Start.Date = as.Date(therapy_rate$Start.Date, format = "%m/%d%/%Y")
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2) +
theme(legend.position = "none")
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2) +
theme(legend.position = "none") +
labs(title = "Percentage of Population Who had Received Therapy/Counseling in the Last 4 Weeks Across COVID", x = Date, y = "Percent of Population Who had Received Therapy/Counseling")
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2) +
theme(legend.position = "none") +
labs(title = "Percentage of Population Who had Received Therapy/Counseling in the Last 4 Weeks Across COVID", x = "Date", y = "Percent of Population Who had Received Therapy/Counseling")
therapy_over_covid_plot
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2) +
theme(legend.position = "none") +
geom_smooth() +
labs(title = "Percentage of Population Who had Received Therapy/Counseling in the Last 4 Weeks Across COVID", x = "Date", y = "Percent of Population Who had Received Therapy/Counseling")
therapy_over_covid_plot
## Rates of suicide seem to be going up due to higher numbers
suicide_death_plot <- ggplot(deaths_pre_post_covid, aes(x = Date, y = Intentional.Self.Harm..Suicide., group = 1)) +
geom_line() +
geom_point() +
geom_smooth()
## But if you plot the percent of total deaths from suicide, you can see a large drop in suicide rates! Could this be from higher telehealth usage?
suicide_percent_plot <- ggplot(deaths_pre_post_covid, aes(x = Date, y = suicide_percent_total_deaths, group = 1)) +
geom_line() +
geom_point() +
geom_smooth()
suicide_death_plot
## Rates of suicide seem to be going up due to higher numbers
suicide_death_plot <- ggplot(deaths_pre_post_covid, aes(x = Date, y = Intentional.Self.Harm..Suicide., group = 1)) +
geom_line() +
geom_point() +
geom_smooth() +
labs(title = "Number of Suicides Over Time", x = "Date", y = "Deaths by SUicide or Intentional Harm")
suicide_death_plot
## But if you plot the percent of total deaths from suicide, you can see a large drop in suicide rates! Could this be from higher telehealth usage?
suicide_percent_plot <- ggplot(deaths_pre_post_covid, aes(x = Date, y = suicide_percent_total_deaths, group = 1)) +
geom_line() +
geom_point() +
geom_smooth() +
labs(title = "Percentage of All Deaths Due to Suicide Over Time", x = "Date", y = "Percentage of All Deaths Due to Suicide or Intentional Harm")
suicide_percent_plot
View(therapy_over_covid_plot)
View(therapy_over_covid_plot)
therapy_over_covid_plot
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity")
View(race_therapy)
mental_care$Start.Date <- strptime(mental_care$Time.Period.Start.Date, format = "%m/%d/%Y")
mental_care$Start.Date = as.Date(mental_care$Start.Date, format = "%m/%d%/%Y")
View(mental_care)
therapy_rate <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Subgroup == "United States")
## Rates of Counseling over COVID. Clear upward trend!
therapy_over_covid_plot <- ggplot(therapy_rate, mapping = aes(x = Start.Date, y = Value, group = 3)) +
geom_line(size = 1.1, aes(color = Value)) +
geom_point(size = 2) +
theme(legend.position = "none") +
geom_smooth() +
labs(title = "Percentage of Population Who had Received Therapy/Counseling in the Last 4 Weeks Across COVID", x = "Date", y = "Percent of Population Who had Received Therapy/Counseling")
therapy_over_covid_plot
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity")
View(race_therapy)
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
group_by(Group) %>%
summarize(mean_value = mean(Value))
View(race_therapy)
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
group_by(Subgroup) %>%
summarize(mean_value = mean(Value))
View(race_therapy)
mental_care <- read.csv("./data/mental_care.csv",
stringsAsFactors = FALSE)
mental_care$Start.Date <- strptime(mental_care$Time.Period.Start.Date, format = "%m/%d/%Y")
mental_care$Start.Date = as.Date(mental_care$Start.Date, format = "%m/%d%/%Y")
therapy_rate <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Subgroup == "United States")
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
group_by(Subgroup) %>%
summarize(mean_value = mean(Value))
View(race_therapy)
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity")
View(race_therapy)
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
select(Subgroup, Value) %>%
group_by(Subgroup) %>%
summarize(mean_value = mean(Value))
View(race_therapy)
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
group_by(Subgroup) %>%
summarize(mean_value = mean(Value, na.rm = TRUE))
View(race_therapy)
summarize(mean_value = round((mean(Value, na.rm = TRUE) * 100), 2)
View(race_therapy)
summarize(mean_value = round(mean(Value, na.rm = TRUE) * 100, 2)
View(race_therapy)
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
group_by(Subgroup) %>%
summarize(mean_value = round(mean(Value, na.rm = TRUE) * 100, 2))
View(race_therapy)
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
group_by(Subgroup) %>%
summarize(mean_value = round(mean(Value, na.rm = TRUE), 2))
View(race_therapy)
race_therapy_histogram <- race_therapy %>%
ggplot(aes(x = Subgroup, y = mean_value)) %>%
geom_histogram()
race_therapy_histogram <- race_therapy %>%
ggplot(aes(x = Subgroup, y = mean_value)) +
geom_histogram()
race_therapy_histogram
race_therapy_histogram <- race_therapy %>%
ggplot(aes(x = Subgroup, y = mean_value)) +
geom_histogram(stat = "identity")
race_therapy_histogram
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity")
View(race_therapy_2)
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity", Start.Date == 2020-08-19))
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity", Start.Date == 2020-08-19)
View(race_therapy_2)
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity", Start.Date == "2020-08-19")
View(race_therapy_2)
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity", Start.Date == "2020-08-19", Start.Date == "2022-01-26")
View(race_therapy_2)
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
filter(Start.Date == "2020-08-19" | Start.Date == "2022-01-26")
View(race_therapy_2)
race_therapy_histogram <- race_therapy_2 %>%
ggplot(aes(x = Subgroup, y = mean_value, color = Start.Date)) +
geom_histogram(stat = "identity")
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
ggplot(aes(x = Subgroup, y = Value, color = Start.Date)) +
geom_histogram(stat = "identity")
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
ggplot(aes(x = Subgroup, y = Value, fill = Start.Date)) +
geom_histogram(stat = "identity")
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
ggplot(aes(x = Subgroup, y = Value, fill = Start.Date)) +
geom_histogram(stat = "identity", position = "dodge")
race_therapy_histogram
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
filter(Start.Date == "2020-08-19" | Start.Date == "2022-01-26") %>%
pivot_wider(cols = Start.Date, names_to='variable',
values_to="value")
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
filter(Start.Date == "2020-08-19" | Start.Date == "2022-01-26") %>%
pivot_wider(names_from = Subgroup, values_from = Start.Date)
View(race_therapy_2)
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
filter(Start.Date == "2020-08-19" | Start.Date == "2022-01-26") %>%
pivot_wider(names_from = Start.Date, values_from = Value)
View(race_therapy_2)
race_therapy_2 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
filter(Start.Date == "2020-08-19" | Start.Date == "2022-01-26") %>%
select(Subgroup, Value, Start.Date) %>%
pivot_wider(names_from = Start.Date, values_from = Value)
View(race_therapy_2)
View(race_therapy)
race_therapy_3 <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
filter(Start.Date == "2020-08-19" | Start.Date == "2022-01-26") %>%
select(Subgroup, Value, Start.Date)
View(race_therapy_3)
race_therapy_histogram <- race_therapy_3 %>%
ggplot(aes(x = Subgroup, y = Value), fill = Start.Date) +
geom_histogram(stat = "identity", position = "dodge")
race_therapy_3
race_therapy_histogram <- race_therapy_3 %>%
ggplot(aes(x = Subgroup, y = Value), fill = Start.Date) +
geom_histogram(stat = "identity", position = "dodge")
race_therapy_3
race_therapy_histogram
race_therapy_histogram <- race_therapy_3 %>%
ggplot(aes(x = Subgroup, y = Value), color = Start.Date) +
geom_histogram(stat = "identity", position = "dodge")
race_therapy_histogram
race_therapy_histogram <- race_therapy_3 %>%
ggplot(aes(x = Subgroup, y = Value), color = Start.Date) +
geom_histogram(stat = "identity")
race_therapy_histogram
race_therapy_histogram <- race_therapy_3 %>%
ggplot(aes(x = Subgroup, y = Value), fill = Start.Date) +
geom_histogram(stat = "identity")
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2")
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col()
race_therapy_histogram
position = "dodge2"
race_therapy_histogram
therapy_over_covid_plot
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2")
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2") +
scale_x_discrete(guide = guide_axis(n.dodge=3))+
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2") +
scale_x_discrete(guide = guide_axis(n.dodge=3))
race_therapy_histogram
race_therapy_histogram <- race_therapy_2 %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2") +
scale_x_discrete(guide = guide_axis(n.dodge=3)) +
labs(title = "Rates of Population Attending Counseling/Therapy Throughout COVID Across Race", x = "Race", y = "Percentage of Population Attending Counseling/Therapy")
race_therapy_histogram
## Histogram(?) of Races, comparing 2 different time points and those who had attended counseling/therapy
race_therapy_histogram <- race_therapy %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2") +
scale_x_discrete(guide = guide_axis(n.dodge=3)) +
labs(title = "Rates of Population Attending Counseling/Therapy Throughout COVID Across Race", x = "Race", y = "Percentage of Population Attending Counseling/Therapy")
race_therapy_histogram
## Histogram(?) of Races, comparing 2 different time points and those who had attended counseling/therapy
race_therapy_histogram <- race_therapy %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2") +
scale_x_discrete(guide = guide_axis(n.dodge=3)) +
labs(title = "Rates of Population Attending Counseling/Therapy Throughout COVID Across Race", x = "Race", y = "Percentage of Population Attending Counseling/Therapy")
race_therapy_histogram
therapy_over_covid_plot
race_therapy_histogram
## Filters the mental dataset by receiving counseling/therapy and by race.
race_therapy <- mental_care %>%
filter(Indicator == "Received Counseling or Therapy, Last 4 Weeks", Group == "By Race/Hispanic ethnicity") %>%
filter(Start.Date == "2020-08-19" | Start.Date == "2022-01-26") %>%
select(Subgroup, Value, Start.Date) %>%
pivot_wider(names_from = Start.Date, values_from = Value)
## Histogram(?) of Races, comparing 2 different time points and those who had attended counseling/therapy
race_therapy_histogram <- race_therapy %>%
gather(Start.Date, val, -Subgroup) %>%
ggplot(aes(Subgroup, val, fill = Start.Date)) +
geom_col(position = "dodge2") +
scale_x_discrete(guide = guide_axis(n.dodge=3)) +
labs(title = "Rates of Population Attending Counseling/Therapy Throughout COVID Across Race", x = "Race", y = "Percentage of Population Attending Counseling/Therapy")
race_therapy_histogram
